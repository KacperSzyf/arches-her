{% extends "views/report-templates/default.htm" %}
{% load i18n %}

{% block report %}
    {% block report_title_bar %}
    <!-- Custom Template Report Title Bar -->
    <div class="relative">

        <!-- Title Block -->
        <div class="her-report-toolbar">
            <h1 class="her-report-toolbar-title"><span class="her-report-name">{% trans "Heritage Asset Report" %}:</span><span data-bind="text: displayname" class="her-report-instance-name"></span></h1>
        </div>

        <!-- Altenative Nav and Content -->
        <div class="her-tab-container" style="display: none;">
            <ul class="nav nav-tabs her-tab-list">
                <li class="her-tab-list-item">
                    <div class='her-nav-tab active'>
                        <div style="display: flex; flex-direction: row; justify-content: center; align-items: center;">
                            <span>Name/Identifiers</span>
                            </span>
                        </div>
                    </div>
                    <div class='her-nav-tab'>
                        <div style="display: flex; flex-direction: row; justify-content: center; align-items: center;">
                            <span>Location</span>
                            </span>
                        </div>
                    </div>
                </li>
            </ul>
        </div>
    </div>
    {% endblock report_title_bar %}

    
    {% block body %}
    <!-- Link nav -->
    <div class="her-report-anchor-container">
        <ol class="her-report-anchors breadcrumb">
            <!-- ko foreach: {data: sections, as: 'section'} -->
            <li data-bind="click: function(){$parent.activeSection(section.id)}, css: {active: $parent.activeSection() === section.id}, text: section.title" class="her-report-a"></li>
            <!-- /ko -->
        </ol>
    </div>

    <div class="her-tabbed-report">
        <div class="her-tabbed-report-content">
            
            <!-- Names Tab -->
            <div class="her-report-page" data-bind="if: activeSection() === 'name'">

                <!-- Names section -->
                <div class="her-report-section">
                    <h2 class="her-report-section-title"><i data-bind="click: function() {toggleBlockVisibility(blockVisible.assetNames)}" class="fa fa-angle-double-right toggle"></i> {% trans "Asset Names" %}</h2>
                    <a class="her-report-a" data-bind="{if: cards.assetName, event:{ mousedown:function(d, e){addNewTile(cards.assetName, e)}}}"><i class="fa fa-mail-reply"></i> {% trans "Add Name" %}</a>

                    <!-- Collapsible content -->
                    <div data-bind="visible: blockVisible.assetNames" class="her-report-collapsible-container pad-lft">

                        <!-- ko ifnot: names.assetNames().length -->
                        <div class="her-nodata-note" style="display: none;">No names for this resource</div>
                        <!-- /ko -->

                        <!-- ko if: names.assetNames().length -->
                        <div class="her-report-subsection" >
                            <div class="firstchild-container">
                                <div class="her-table">
                                    <table class="table table-striped" cellspacing="0" width="100%">
                                        <thead>
                                            <tr class="her-table-header">
                                                <th>{% trans "Name" %}</th>
                                                <th class="min-tabletl">{% trans "Type" %}</th>
                                                <th class="min-medium">{% trans "Currency" %}</th>
                                                <th class="her-table-control all"></th>
                                            </tr>
                                        </thead>
                                        <tbody data-bind="dataTablesForEach: { data: names.assetNames, dataTableOptions: nameTableConfig }">
                                            <tr>
                                                <td data-bind="text: name"></td>
                                                <td data-bind="text: type"></td>
                                                <td data-bind="text: currency"></td>
                                                <td class="her-table-control">
                                                    <div data-bind="if: $parent.cards.assetName">
                                                        <a data-bind="click: function() {$parent.editTile(tileid, cards.assetName)}">
                                                            <i class="fa fa-mail-reply"></i>
                                                        </a>
                                                        <a data-bind="click: function() {$parent.deleteTile(tileid, cards.assetName)}">
                                                            <i class="fa fa-trash"></i>
                                                        </a>
                                                    </div>
                                                </td>
                                            </tr>
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                        </div>
                        <!-- /ko -->
                    </div>
                </div>

                <!-- External Reference -->
                <div class="her-report-section">
                    <h2 class="her-report-section-title"><i data-bind="click: function() {toggleBlockVisibility(blockVisible.externalCrossReferences)}" class="fa fa-angle-double-right toggle"></i> {% trans "External Cross References" %}</h2>
                    <a data-bind="{if: cards.externalCrossReferences, click: function(){addNewTile(cards.externalCrossReferences)}}" class="her-report-a"><i class="fa fa-mail-reply"></i> {% trans "Add Reference" %}</a>

                    <!-- Collapsible content -->
                    <div data-bind="visible: blockVisible.externalCrossReferences" class="her-report-collapsible-container pad-lft">
                        <!-- ko ifnot: names.externalCrossReferences().length -->
                        <div class="her-nodata-note">No references for this resource</div>
                        <!-- /ko -->
                        
                        <!-- ko if: names.externalCrossReferences().length -->
                        <div class="her-report-subsection">
                            <div class="firstchild-container">
                                <div class="her-table">
                                    <table class="table table-striped" cellspacing="0" width="100%">
                                        <thead>
                                            <tr class="her-table-header">
                                                <th>{% trans "Name" %}</th>
                                                <th class="min-tabletl">{% trans "Source" %}</th>
                                                <th class="min-medium">{% trans "Note" %}</th>
                                                <th class="her-table-control all"></th>
                                            </tr>
                                        </thead>
                                        <tbody data-bind="dataTablesForEach: {data: names.externalCrossReferences, dataTableOptions: crossReferenceTableConfig}">
                                            <tr>
                                                <td data-bind="text: number"></td>
                                                <td data-bind="text: source"></td>
                                                <td data-bind="text: description"></td>
                                                <td class="her-table-control">
                                                    <div data-bind="if: $parent.cards.externalCrossReferences">
                                                        <a data-bind="click: function(){$parent.editTile(tileid, $parent.cards.externalCrossReferences)}">
                                                            <i class="fa fa-mail-reply"></i>
                                                        </a>
                                                        <a data-bind="click: function(){$parent.deleteTile(tileid, $parent.cards.externalCrossReferences)}">
                                                            <i class="fa fa-trash"></i>
                                                        </a>
                                                    </div>
                                                </td>
                                            </tr>
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                        </div>
                        <!-- /ko -->
                    </div>
                </div>

                <!-- System Reference Numbers section -->
                <div class="her-report-section">
                    <h2 class="her-report-section-title"><i data-bind="click: function() {toggleBlockVisibility(blockVisible.systemReferenceNumbers)}" class="fa fa-angle-double-right toggle"></i> {% trans "System Reference Numbers" %}</h2>
                    <a data-bind="{if: cards.systemReferenceNumbers, click: function(){ addNewTile(cards.systemReferenceNumbers) }}" class="her-report-a"><i class="fa fa-mail-reply"></i> <span data-bind="if: cards.systemReferenceNumbers.tiles().length">{% trans "Edit Identifier" %}</span><span data-bind="ifnot: cards.systemReferenceNumbers.length">{% trans "Add Identifier" %}</span></a>

                    <!-- Collapsible content -->
                    <div data-bind="visible: blockVisible.systemReferenceNumbers" class="her-report-collapsible-container pad-lft">

                        <!-- ko ifnot: !names.systemReferenceNumbers.tileid -->
                        <div class="her-nodata-note">No references for this resource</div>
                        <!-- /ko -->

                        <!-- ko if: names.systemReferenceNumbers.tileid -->
                        <div class="her-report-subsection">

                            <div class="firstchild-container">
                                <div class="her-report-subsection-ite" style="padding-top: 10px;">
                                    <div class="her-block-attributes">
                                        <h4 class="her-block-key">Resource ID: </h4>
                                        <div class="her-block-value" data-bind="text:names.systemReferenceNumbers.resourceId"></div>
                                    </div>
                                    <div class="her-block-attributes">
                                        <h4 class="her-block-key">Legacy ID: </h4>
                                        <div class="her-block-value" data-bind="text:names.systemReferenceNumbers.legacyId"></div>
                                    </div>
                                    <div class="her-block-attributes">
                                        <h4 class="her-block-key">Primary Reference Number: </h4>
                                        <div class="her-block-value" data-bind="text:names.systemReferenceNumbers.primaryReferenceNumber"></div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <!-- /ko -->
                    </div>
                </div>
            </div>
            <!-- End Names -->

            <!-- Descriptions Tab -->
            <div class="her-report-page" data-bind="if: activeSection() === 'description'">

                <!-- Description section -->
                <div class="her-report-section">
                    <h2 class="her-report-section-title"><i data-bind="click: function() {toggleBlockVisibility(blockVisible.descriptions)}" class="fa fa-angle-double-right toggle"></i> {% trans "Asset Descriptions" %}</h2>
                    <a class="her-report-a" data-bind="if: cards.assetDescriptions, click: function(){addNewTile(cards.assetDescriptions)}"><i class="fa fa-mail-reply"></i> {% trans "Add Description" %}</a>

                    <!-- Collapsible content -->
                    <div data-bind="visible: blockVisible.descriptions" class="her-report-collapsible-container pad-lft">
                        <!-- ko ifnot: descriptions().length -->
                        <div class="her-nodata-note">{% trans "No descriptions for this resource" %}</div>
                        <!-- /ko -->

                        <!-- ko if: descriptions().length -->
                        <div class="her-report-subsection">
                            <div class="firstchild-container">
                                <div class="her-table">
                                    <table class="table table-striped" cellspacing="0" width="100%">
                                        <thead>
                                            <tr class="her-table-header">
                                                <th>{% trans "Type" %}</th>
                                                <th>{% trans "Description" %}</th>
                                                <th class="her-table-control all"></th>
                                            </tr>
                                        </thead>
                                        <tbody data-bind="dataTablesForEach: {data: descriptions, dataTableOptions: descriptionTableConfig}">
                                            <tr>
                                                <td data-bind="text: type"></td>
                                                <td data-bind="text: description" class="her-table-descrip-col"></td>
                                                <td class="her-table-control">
                                                    <div data-bind="if: $parent.cards.assetDescriptions">
                                                        <a data-bind="click: function(){$parent.editTile(tileid, cards.assetDescriptions)}">
                                                            <i class="fa fa-mail-reply"></i>
                                                        </a>
                                                        <a data-bind="click: function(){$parent.deleteTile(tileid, $parent.cards.assetDescriptions)}">
                                                            <i class="fa fa-trash"></i>
                                                        </a>
                                                    </div>
                                                </td>
                                            </tr>
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                        </div>
                        <!-- /ko -->
                    </div>
                </div>
            </div>
            <!-- End Descriptions -->

            <!-- Location -->
            <div class="her-report-page" data-bind="if: activeSection() === 'location'">
                
                <!-- Geometry/Map -->
                <div class="her-report-section">
                    <h2 class="her-report-section-title"><i data-bind="click: function() {toggleBlockVisibility(blockVisible.locations.coordinates)}" class="fa fa-angle-double-right toggle"></i> {% trans "Geospatial Coordinates" %}</h2>
                    <a class="her-report-a" data-bind="{if: cards.locationGeometry, click: function(){addNewTile(cards.locationGeometry)}}"><i class="fa fa-mail-reply"></i> {% trans "Add Geometry" %}</a>

                    <!-- Collapsible content -->
                    <div data-bind="visible: blockVisible.locations.coordinates" class="her-report-collapsible-container pad-lft">

                        <div class="her-report-subsection">
                            <h3><i data-bind="click: function() {toggleBlockVisibility(blockVisible.locations.locality)}" class="fa fa-angle-double-right toggle"></i> {% trans "Geometry " %}  <span>(Shape type: Locality)</span></h3>
                            <a class="her-report-a" data-bind="{if: cards.locationGeometry, click: function(){addNewTile(cards.locationGeometry)}}"><i class="fa fa-mail-reply"></i> {% trans "Edit location" %}</a>
                            <div data-bind="visible: blockVisible.locations.locality">
                                <!-- ko ifnot: locationMapData -->
                                <div class="her-nodata-note her-top-card">No geometry for this resource</div>
                                <!-- /ko --> 
                        
                                <!-- ko if: locationMapData -->
                                <div class="her-report-subsection-container no-flex">
                                    <div class="firstchild-container">
                                        <div class="her-report-map">
                                            <div class="map-container" style="height:475px">
                                                <div class="map" style="height:475px" data-bind="component: {
                                                    name: 'arches-map',
                                                    params: $data
                                                }">
                                                </div>
                                            </div>
                                        </div>

                                    </div>   
                                </div>
                                <!-- /ko -->
                            </div>
                        </div>

                        <!-- Geometry Metadata -->
                        <div class="her-report-subsection">
                            <h3><i data-bind="click: function() {toggleBlockVisibility(blockVisible.locations.geometryMetadata)}" class="fa fa-angle-double-right toggle"></i> {% trans "Geometry Metadata" %}</h3>
                            
                            <!-- Collapsible content -->
                            <div data-bind="visible: blockVisible.locations.geometryMetadata" class="her-report-collapsible-container">
                                <!-- ko ifnot: hasGeometryMetadata(location.geometry) -->
                                <div class="her-nodata-note her-top-card">No metadata for this resource</div>
                                <!-- /ko -->

                                <!-- ko if: hasGeometryMetadata(location.geometry) -->   
                                <div class="her-report-subsection-container multi-cards no-flex">

                                    <!-- Record Authorization/Compilation/Update -->
                                    <div class="her-report-subsection-firstchild">
                                        <h5>Record Edit History</h5>
                                        
                                        <!-- ko ifnot: hasGeometryAuthorization(location.geometry) -->
                                        <div class="her-nodata-note">No authorization record for this resource</div>
                                        <!-- /ko -->

                                        <!-- ko if: hasGeometryAuthorization(location.geometry) -->   
                                        <span data-bind="text: console.log(location.geometry)"></span><div class="firstchild-container" data-bind="{with: location.geometry}">
                                            <div class="her-report-subsection-item flex">
                                                <div class="her-block-attributes actor-name">
                                                    <h6 class="her-block-key compressed">Record Reviewer: </h6>
                                                    <div data-bind="text: reviewer" class="her-block-value"></div>
                                                </div>
                                                <div class="her-block-attributes timespan">
                                                    <h6 class="her-block-key compressed">Review Date: </h6>
                                                    <div data-bind="text: reviewDate" class="her-block-value"></div>
                                                </div>
                                                <div class="her-block-attributes">
                                                    <h6 class="her-block-key compressed">Type of Review: </h6>
                                                    <div data-bind="text: reviewType" class="her-block-value"></div>
                                                </div>
                                            </div>
                                            <div class="her-report-subsection-item flex">
                                                <div class="her-block-attributes actor-name">
                                                    <h6 class="her-block-key compressed">Compiler: </h6>
                                                    <div data-bind="text: compiler" class="her-block-value"></div>
                                                </div>
                                                <div class="her-block-attributes timespan">
                                                    <h6 class="her-block-key compressed">Compile Date: </h6>
                                                    <div data-bind="text: compileDate" class="her-block-value"></div>
                                                </div>
                                            </div>
                                            <div class="her-report-subsection-item flex">
                                                <div class="her-block-attributes actor-name">
                                                    <h6 class="her-block-key compressed">Last Update: </h6>
                                                    <div data-bind="text: lastUpdateName"  class="her-block-value"></div>
                                                </div>
                                                <div class="her-block-attributes timespan">
                                                    <h6 class="her-block-key compressed">Update Date: </h6>
                                                    <div data-bind="text: lastUpdate"  class="her-block-value"></div>
                                                </div>
                                            </div>
                                        </div>
                                        <!-- /ko -->   
                                    </div>

                                    <!-- Geometry Sources/Scale -->
                                    <div class="her-report-subsection-firstchild">
                                        <h5>Record Sources/Scale</h5>

                                        <!-- ko ifnot: hasGeometrySourcesScale(location.geometry) -->
                                        <div class="her-nodata-note" style="display: none;">No record sources/scale for this resource</div>
                                        <!-- /ko -->   

                                        <!-- ko if: hasGeometrySourcesScale(location.geometry) -->
                                        <div class="firstchild-container">
                                            <div class="her-report-subsection-item flex column-order pad-btm" data-bind="{with: location.geometry}">
                                                <div class="her-block-attributes">
                                                    <h6 class="her-block-key compressed">Coordinate System: </h6>
                                                    <div data-bind="text: coordinateSystem" class="her-block-value"></div>
                                                </div>
                                                <div class="her-block-attributes">
                                                    <h6 class="her-block-key compressed">Basemap: </h6>
                                                    <div data-bind="text: basemap" class="her-block-value"></div>
                                                </div>
                                                <div class="her-block-attributes">
                                                    <h6 class="her-block-key compressed">Capture Scale: </h6>
                                                    <div data-bind="text: captureScale" class="her-block-value">--</div>
                                                </div>
                                                <div class="her-block-attributes">
                                                    <h6 class="her-block-key compressed">Accuracy: </h6>
                                                    <div data-bind="text: accuracy" class="her-block-value"></div>
                                                </div>
                                            </div>
                                        </div>
                                        <!-- /ko -->   
                                    </div>

                                    <!-- Record Description -->
                                    <div class="her-report-subsection-firstchild">
                                        <h5>Description</h5>
                                        <a class="her-report-a"><i class="fa fa-mail-reply"></i> {% trans "Description" %}</a>
                                        
                                        <!-- ko ifnot: location.geometry.description -->
                                        <div class="her-nodata-note" style="display: none;">No description record for this resource</div>
                                        <!-- /ko -->   

                                        <!-- ko ifnot: location.geometry.description -->
                                        <div class="firstchild-container pad-btm">
                                            <div class="her-report-subsection-item">
                                                <div data-bind="{with: location.geometry}" class="her-block-attributes" style="margin-top: 5px;">
                                                    <h6 class="her-block-key compressed">Metadata Description: </h6>
                                                    <div data-bind="text: description" class="her-block-value"></div>
                                                </div>
                                            </div>
                                        </div>
                                        <!-- /ko -->   
                                    </div>
                                </div>  
                                <!-- /ko -->
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Addresses -->
                <div class="her-report-section">
                    <h2 class="her-report-section-title"><i data-bind="click: function() {toggleBlockVisibility(blockVisible.locations.addresses)}" class="fa fa-angle-double-right toggle"></i> {% trans "Addresses" %}</h2>
                    <a class="her-report-a" data-bind="{if: cards.addresses, click: function(){addNewTile(cards.addresses)}}"><i class="fa fa-mail-reply"></i> {% trans "Add Address" %}</a>

                    <!-- Collapsible content -->
                    <div data-bind="visible: blockVisible.locations.addresses" class="her-report-collapsible-container pad-lft">

                        <!-- ko ifnot: location.addresses().length -->
                        <div class="her-nodata-note">No addresses for this resource</div>
                        <!-- /ko -->

                        <!-- ko if: location.addresses().length -->
                        <div class="her-report-subsection">
                            
                            <div class="firstchild-container">
                                <!-- Address Table -->
                                <div class="her-table pad-btm">
                                    <table class="table table-striped" cellspacing="0" width="100%">
                                        <thead>
                                            <tr class="her-table-header">
                                                <th>{% trans "Street Number" %}</th>
                                                <th>{% trans "Street" %}</th>
                                                <th>{% trans "Locality" %}</th>
                                                <th>{% trans "Town/City" %}</th>
                                                <th>{% trans "Postcode" %}</th>
                                                <th>{% trans "Status" %}</th>
                                                <th class="none">{% trans "Building Name" %}</th>
                                                <th class="none">{% trans "Building Number" %}</th>
                                                <th class="none">{% trans "Build No. Sub-street" %}</th>
                                                <th class="none">{% trans "Sub-street" %}</th>
                                                <th class="none">{% trans "County" %}</th>
                                                <th class="none">{% trans "Full Address" %}</th>
                                                <th class="none">{% trans "Currency" %}</th>
                                                <th class="her-table-control all"></th>
                                            </tr>
                                        </thead>
                                        <tbody data-bind="dataTablesForEach: {data: location.addresses, dataTableOptions: addressTableConfig}">
                                            <tr>
                                                <td data-bind="text: buildingNumber"></td>
                                                <td data-bind="text: street"></td>
                                                <td data-bind="text: locality"></td>
                                                <td data-bind="text: town"></td>
                                                <td data-bind="text: postcode"></td>
                                                <td data-bind="text: status"></td>
                                                <td data-bind="text: buildingName"></td>
                                                <td data-bind="text: buildingNumber"></td>
                                                <td data-bind="text: buildingNumberSubStreet"></td>
                                                <td data-bind="text: subStreet"></td>
                                                <td data-bind="text: county"></td>
                                                <td data-bind="text: fullAddress"></td>
                                                <td data-bind="text: currency"></td>
                                                <td class="her-table-control">
                                                    <div data-bind="if: $parent.cards.addresses">
                                                        <a data-bind="click: function() {$parent.editTile(tileid, $parent.cards.addresses)}">
                                                            <i class="fa fa-mail-reply"></i>
                                                        </a>
                                                        <a data-bind="click:  function() {$parent.deleteTile(tileid, $parent.cards.addresses)}">
                                                            <i class="fa fa-trash"></i>
                                                        </a>
                                                    </div>
                                                </td>
                                            </tr>
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                        </div>
                        <!-- /ko -->
                    </div>
                </div>

                <!-- Location Description -->
                <div class="her-report-section">
                    <h2 class="her-report-section-title"><i data-bind="click: function() {toggleBlockVisibility(blockVisible.locations.descriptions)}" class="fa fa-angle-double-right toggle"></i> {% trans "Location Descriptions" %}</h2>
                    <a class="her-report-a" data-bind="{if: cards.locationDescriptions, click: function(){addNewTile(cards.locationDescriptions)}}"><i class="fa fa-mail-reply"></i> {% trans "Add Description" %}</a>

                    <!-- Collapsible content -->
                    <div data-bind="visible: blockVisible.locations.descriptions" class="her-report-collapsible-container pad-lft">

                        <!-- ko ifnot: location.descriptions().length -->
                        <div class="her-nodata-note">No location description for this resource</div>
                        <!-- /ko -->

                        <!-- ko if: location.descriptions().length -->
                        
                        <div class="her-report-subsection">
                            
                            <div class="firstchild-container">
                                <!-- Statements Table -->
                                <div class="her-table pad-btm">
                                    <table class="table table-striped" cellspacing="0" width="100%">
                                        <thead>
                                            <tr class="her-table-header">
                                                <th>{% trans "Type" %}</th>
                                                <th>{% trans "Description" %}</th>
                                                <th class="her-table-control all"></th>
                                            </tr>
                                        </thead>
                                        <tbody data-bind="dataTablesForEach: {data: location.descriptions, dataTableOptions: locDescriptionsTableConfig }">
                                            <tr>
                                                <td data-bind="text: type"></td>
                                                <td data-bind="text: description" class="line-clamp-1" style="vertical-align: unset; padding-top: 7px;">Take a right at the light. Then go straight until night.  Look for the big red barn, then turn left. Go another few miles and you're almost there.</td>
                                                <td class="her-table-control">
                                                    <div data-bind="if: $parent.cards.locationDescriptions">
                                                    <a data-bind="click: function() {$parent.editTile(tileid, $parent.cards.locationDescriptions)}">
                                                        <i class="fa fa-mail-reply"></i>
                                                    </a>
                                                    <a data-bind="click:  function() {$parent.deleteTile(tileid, $parent.cardslocationDescriptions)}">
                                                        <i class="fa fa-trash"></i>
                                                    </a>
                                                </td>
                                            </tr>
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                        </div>
                        <!-- /ko -->
                    </div>
                </div>

                <!-- Admin Areas -->
                <div class="her-report-section">
                    <h2 class="her-report-section-title"><i data-bind="click: function() {toggleBlockVisibility(blockVisible.locations.administrativeAreas)}" class="fa fa-angle-double-right toggle"></i> {% trans "Administrative Areas" %}</h2>
                    <a class="her-report-a" data-bind="{if: cards.administrativeAreas, click: function(){addNewTile(cards.administrativeAreas)}}"><i class="fa fa-mail-reply"></i> {% trans "Add Area" %}</a>

                    <!-- Collapsible content -->
                    <div data-bind="visible: blockVisible.locations.administrativeAreas" class="her-report-collapsible-container pad-lft">

                        <!-- ko ifnot: location.administrativeAreas().length -->
                        <div class="her-nodata-note">No administrative areas for this resource</div>
                        <!-- /ko -->

                        <!-- ko if: location.administrativeAreas().length -->
                        <div class="her-report-subsection">
                            
                            <div class="firstchild-container">
                                <!-- Statements Table -->
                                <div class="her-table pad-btm">
                                    <table class="table table-striped" cellspacing="0" width="100%">
                                        <thead>
                                            <tr class="her-table-header">
                                                <th>{% trans "Name" %}</th>
                                                <th>{% trans "Type" %}</th>
                                                <th>{% trans "Currency" %}</th>
                                                <th class="her-table-control all"></th>
                                            </tr>
                                        </thead>
                                        <tbody data-bind="dataTablesForEach: {data: location.administrativeAreas, dataTableOptions: adminAreasTableConfig }">
                                            <tr>
                                                <td data-bind="text: name"></td>
                                                <td data-bind="text: type"></td>
                                                <td data-bind="text: currency"></td>
                                                <td class="her-table-control">
                                                    <div data-bind="if: $parent.cards.administrativeAreas">
                                                        <a data-bind="click: function() {$parent.editTile(tileid, $parent.cards.administrativeAreas)}">
                                                            <i class="fa fa-mail-reply"></i>
                                                        </a>
                                                        <a data-bind="click:  function() {$parent.deleteTile(tileid, $parent.cards.administrativeAreas)}">
                                                            <i class="fa fa-trash"></i>
                                                        </a>
                                                    </div>
                                                </td>
                                            </tr>
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                        </div>
                        <!-- /ko -->
                    </div>
                </div>

                <!-- National Grid References -->
                <div class="her-report-section">
                    <h2 class="her-report-section-title"><i data-bind="click: function() {toggleBlockVisibility(blockVisible.locations.nationalGrid)}" class="fa fa-angle-double-right toggle"></i> {% trans "National Grid References" %}</h2>
                    <a class="her-report-a" data-bind="{if: cards.nationalGridReferences, click: function(){addNewTile(cards.nationalGridReferences)}}"><i class="fa fa-mail-reply"></i> {% trans "Add Grid Reference" %}</a>

                    <!-- Collapsible content -->
                    <div data-bind="visible: blockVisible.locations.nationalGrid" class="her-report-collapsible-container pad-lft">

                        <!-- ko ifnot: location.nationalGridReferences().length -->
                        <div class="her-nodata-note">No grid references for this resource</div>
                        <!-- /ko -->

                        <!-- ko if: location.nationalGridReferences().length -->
                        <div class="her-report-subsection">
                            
                            <div class="firstchild-container">
                                <!-- Statements Table -->
                                <div class="her-table pad-btm">
                                    <table class="table table-striped" cellspacing="0" width="100%">
                                        <thead>
                                            <tr class="her-table-header">
                                                <th>{% trans "National Grid Reference" %}</th>
                                                <th class="her-table-control all"></th>
                                            </tr>
                                        </thead>
                                        <tbody data-bind="dataTablesForEach: {data: location.nationalGridReferences, dataTableOptions: gridReferencesTableConfig}">
                                            <tr>
                                                <td data-bind="text: reference"></td>
                                                <td class="her-table-control">
                                                    <div data-bind="if: $parent.cards.nationalGridReferences">
                                                        <a data-bind="click: function() {$parent.editTile(tileid, $parent.cards.nationalGridReferences)}">
                                                            <i class="fa fa-mail-reply"></i>
                                                        </a>
                                                        <a data-bind="click:  function() {$parent.deleteTile(tileid, $parent.cards.nationalGridReferences)}">
                                                            <i class="fa fa-trash"></i>
                                                        </a>
                                                    </div>
                                                </td>
                                            </tr>
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                        </div>
                        <!-- /ko -->
                    </div>
                </div>

                <!-- Area Assignments -->
                <div class="her-report-section">
                    <h2 class="her-report-section-title"><i data-bind="click: function() {toggleBlockVisibility(blockVisible.locations.areaAssignment)}" class="fa fa-angle-double-right toggle"></i> {% trans "Area Assignment" %}</h2>
                    <a class="her-report-a" data-bind="{if: cards.areaAssignment, click: function(){addNewTile(cards.areaAssignment)}}"><i class="fa fa-mail-reply"></i> <span data-bind="if: location.areaAssignment().length">{% trans "Edit Area Assignment" %}</span><span data-bind="ifnot: location.areaAssignment().length">{% trans "Add Area Assignment" %}</span></a>

                    <!-- Collapsible content -->
                    <div data-bind="visible: blockVisible.locations.areaAssignment" class="her-report-collapsible-container pad-lft">

                        <!-- ko ifnot: location.areaAssignment().length -->
                        <div class="her-nodata-note">No area assignments for this resource</div>
                        <!-- /ko -->

                        <!-- ko if: location.areaAssignment().length -->
                        <div class="her-report-subsection">
                            
                            <div class="firstchild-container">
                                <!-- Area Table -->
                                <div class="her-table pad-btm">
                                    <table class="table table-striped" cellspacing="0" width="100%">
                                        <thead>
                                            <tr class="her-table-header">
                                                <th>{% trans "Status" %}</th>
                                                <th>{% trans "Ownership" %}</th>
                                                <th>{% trans "Start Date" %}</th>
                                                <th>{% trans "End Date" %}</th>
                                                <th>{% trans "SHINE Form" %}</th>
                                                <th class="none">{% trans "SHINE Significance" %}</th>
                                                <th class="none">{% trans "Reference" %}</th>
                                                <th class="her-table-control all"></th>
                                            </tr>
                                        </thead>
                                        <tbody data-bind="dataTablesForEach:{ data: location.areaAssignment, dataTableOptions: areaAssignmentsTableConfig}" >
                                            <tr>
                                                <td data-bind="text: status"></td>
                                                <td data-bind="text: ownership"></td>
                                                <td data-bind="text: startDate"></td>
                                                <td data-bind="text: endDate"></td>
                                                <td data-bind="text: shineForm"></td>
                                                <td data-bind="text: shineSignificance"></td>
                                                <td data-bind="text: reference"></td>
                                                <td class="her-table-control">
                                                    <div data-bind="if: $parent.cards.areaAssignment">
                                                        <a data-bind="click: function() {$parent.editTile(tileid, $parent.cards.areaAssignment)}">
                                                            <i class="fa fa-mail-reply"></i>
                                                        </a>
                                                        <a data-bind="click:  function() {$parent.deleteTile(tileid, $parent.cards.areaAssignment)}">
                                                            <i class="fa fa-trash"></i>
                                                        </a>
                                                    </div>
                                                </td>
                                            </tr>
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                        </div>
                        <!-- /ko -->
                    </div>
                </div>

                <!-- Land Use Classification -->
                <div class="her-report-section">
                    <h2 class="her-report-section-title"><i data-bind="click: function() {toggleBlockVisibility(blockVisible.locations.landUse)}" class="fa fa-angle-double-right toggle"></i> {% trans "Land Use Classification" %}</h2>
                    <a class="her-report-a" data-bind="{if: cards.landUse, event:{ mousedown:function(d, e){addNewTile(cards.landUse, e)}}}"><i class="fa fa-mail-reply"></i> <span data-bind="if: location.landUseClassification().length">{% trans "Edit Classification" %}</span><span data-bind="ifnot: location.landUseClassification().length">{% trans "Add Classification" %}</span></a>

                    <!-- Collapsible content -->
                    <div data-bind="visible: blockVisible.locations.landUse" class="her-report-collapsible-container pad-lft">

                        <!-- ko ifnot: location.landUseClassification().length -->
                        <div class="her-nodata-note">No land use classes for this resource</div>
                        <!-- /ko -->

                        <!-- ko if: location.landUseClassification().length -->
                        <div class="her-report-subsection">
                            
                            <div class="firstchild-container">
                                <!-- Land Use Table -->
                                <div class="her-table pad-btm">
                                    <table class="table table-striped" cellspacing="0" width="100%">
                                        <thead>
                                            <tr class="her-table-header">
                                                <th>{% trans "Land Use" %}</th>
                                                <th>{% trans "Start Date" %}</th>
                                                <th>{% trans "End Date" %}</th>
                                                <th>{% trans "Geology" %}</th>
                                                <th class="none">{% trans "Sub-soil" %}</th>
                                                <th class="none">{% trans "Reference" %}</th>
                                                <th class="her-table-control all"></th>
                                            </tr>
                                        </thead>
                                        <tbody data-bind="dataTablesForEach: {data: location.landUseClassification, dataTableOptions: landUseTableConfig}">
                                            <tr>
                                                <td data-bind="text: classification"></td>
                                                <td data-bind="text: startDate"></td>
                                                <td data-bind="text: endDate"></td>
                                                <td data-bind="text: geology"></td>
                                                <td data-bind="text: subSoil"></td>
                                                <td data-bind="text: reference"></td>
                                                <td class="her-table-control">
                                                    <div data-bind="if: $parent.cards.landUse">
                                                        <a data-bind="click: function() {$parent.editTile(tileid, $parent.cards.landUse)}">
                                                            <i class="fa fa-mail-reply"></i>
                                                        </a>
                                                        <a data-bind="click:  function() {$parent.deleteTile(tileid, $parent.cards.landUse)}">
                                                            <i class="fa fa-trash"></i>
                                                        </a>
                                                    </div>
                                                </td>
                                            </tr>
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                        </div>
                        <!-- /ko -->
                    </div>
                </div>
            </div>
            <!-- End Location -->

            <!-- Designation/Protection -->
            <div class="her-report-page" data-bind="if: activeSection() === 'designation'">
                
                <!-- Designation Geometry/Map -->
                <div class="her-report-section">
                    <h2 class="her-report-section-title"><i data-bind="click: function() {toggleBlockVisibility(blockVisible.designation.designation)}" class="fa fa-angle-double-right toggle"></i> {% trans "Designation/Protection" %}</h2>
                    <a class="her-report-a"><i class="fa fa-mail-reply"></i> {% trans "Add Designation" %}</a>

                    <!-- Collapsible content -->
                    <div data-bind="visible: blockVisible.designation.designation" class="her-report-collapsible-container pad-lft">

                        <!-- Designation Map  -->
                        <div class="her-report-subsection">
                            <h3><i data-bind="click: function() {toggleBlockVisibility(blockVisible.designation.extent)}" class="fa fa-angle-double-right toggle"></i> {% trans "Designation Extent " %}</h3>

                            <!-- ko ifnot: designations().length -->
                            <div class="her-nodata-note her-top-card">No extent for this resource</div>
                            <!-- /ko -->
                   
                            <!-- ko if: designations().length --> 
                            <div class="her-report-subsection-container no-flex">

                                <!-- Show this block if there's data -->
                                <div class="firstchild-container">
                                    <div class="her-report-map her-designation">
                                        <div class="map-container" style="height:475px">
                                            <div class="map" style="height:475px" data-bind="component: {
                                                name: 'arches-map',
                                                params: $data
                                            }">
                                            </div>
                                        </div>
                                    </div>
                                </div>   
                            </div>
                            <!-- /ko --> 
                        </div>


                        <!-- Designation Records -->
                        <div class="her-report-subsection">
                            
                            <!-- Collapsible content -->
                            <div data-bind="visible: blockVisible.designation.extent" class="her-report-collapsible-container">
 
                                <div class="her-report-subsection-container multi-cards no-flex">

                                    <!-- Event First Generation Cards -->
                                    <div class="her-report-subsection-firstchild">
                                        <h5>Designation/Protection Details</h5>
                                        
                                        <!-- ko ifnot: designations().length -->
                                        <div class="her-nodata-note">No designation information for this resource</div>
                                        <!-- /ko -->

                                        <!-- ko if: designations().length -->
                                        <div class="firstchild-container">
                                            <!-- designation table  -->
                                            <div class="her-table" style="max-width: 100%">
                                                <table class="table table-striped designation" cellspacing="0" width="100%">
                                                    <thead>
                                                        <tr class="her-table-header">
                                                            <th>{% trans "Designation Name" %}</th>
                                                            <th>{% trans "Protection Type" %}</th>
                                                            <th class="min-medium">{% trans "Start Date" %}</th>
                                                            <th class="min-medium">{% trans "End Date" %}</th>
                                                            <th>{% trans "Grade" %}</th>
                                                            <th>{% trans "Risk" %}</th>
                                                            <th class="none">{% trans "Amendment Date" %}</th>
                                                            <th class="none">{% trans "Display Date" %}</th>
                                                            <th class="none">{% trans "Date Qualifier" %}</th>
                                                            <th class="none">{% trans "Reference" %}</th>
                                                            <th class="her-table-control all"></th>
                                                        </tr>
                                                    </thead>
                                                    <tbody data-bind="dataTablesForEach: {data: designations, dataTableOptions: designationTableConfig}">
                                                        <tr>
                                                            <td data-bind="text: name"></td>
                                                            <td data-bind="text: protectionType"></td>
                                                            <td data-bind="text: startDate"></td>
                                                            <td data-bind="text: endDate"></td>
                                                            <td data-bind="text: grade"></td>
                                                            <td data-bind="text: risk"></td>
                                                            <td data-bind="text: amendmentDate"></td>
                                                            <td data-bind="text: displayDate"></td>
                                                            <td data-bind="text: dateQualifier"></td>
                                                            <td data-bind="text: reference"></td>
                                                            <td class="her-table-control">
                                                                <div data-bind="if: $parent.cards.designations">
                                                                    <a data-bind="click: function() {$parent.editTile(tileid, $parent.cards.designations)}">
                                                                        <i class="fa fa-mail-reply"></i>
                                                                    </a>
                                                                    <a data-bind="click:  function() {$parent.deleteTile(tileid, $parent.cards.designations)}">
                                                                        <i class="fa fa-trash"></i>
                                                                    </a>
                                                                </div>
                                                                <a data-bind="click: function(){$parent.currentDesignation(tileid); $parent.jumpToDesignationGeometry($data)}">
                                                                    <i class="fa fa-globe"></i>
                                                                </a>
                                                                <i data-bind="visible: $parent.currentDesignation() == tileid" class="fa fa-arrow-left"></i>
                                                            </td>
                                                        </tr>
                                                    </tbody>
                                                </table>
                                            </div>
                                        </div>
                                        <!-- /ko -->
                                    </div>
                                </div>

                            </div>
                        </div>
                    </div>
                </div>

                <!-- Related Files section -->
                <div class="her-report-section">
                    <h2 class="her-report-section-title"><i data-bind="click: function() {toggleBlockVisibility(blockVisible.designation.files)}" class="fa fa-angle-double-right toggle"></i> {% trans "Designation/Protection Files" %}</h2>

                    <!-- Collapsible content -->
                    <div data-bind="visible: blockVisible.designation.files" class="her-report-collapsible-container pad-lft">


                        <!-- ko ifnot: designationFiles().length -->
                        <div class="her-nodata-note">No files for this resource</div>
                        <!-- /ko -->

                        <!-- ko if: designationFiles().length -->
                        <div class="her-report-subsection">
                            <div class="firstchild-container">
                                <div class="her-table" data-bind="">
                                    <table class="table table-striped" cellspacing="0" width="100%">
                                        <thead>
                                            <tr class="her-table-header">
                                                <th>{% trans "Designation/Protection" %}</th>
                                                <th>{% trans "File" %}</th>
                                                <th class="her-table-control all"></th>
                                            </tr>
                                        </thead>
                                        <tbody data-bind="dataTablesForEach: {data: designationFiles, dataTableOptions: designationFilesTableConfig}">
                                            <tr>
                                                <td data-bind="text: designation"></td>
                                                <td data-bind="text: file"></td>
                                                <td class="her-table-control">
                                                    <div data-bind="if: $parent.cards.designations">
                                                        <a data-bind="click: function() {$parent.editTile(tileid, $parent.cards.designations)}">
                                                            <i class="fa fa-mail-reply"></i>
                                                        </a>
                                                    </div>
                                                </td>
                                            </tr>
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                        </div>
                        <!-- /ko -->
                    </div>
                </div>
            </div>
            <!-- End Designation/Protection -->

            <!-- Construction Phases and Components -->
            <div class="her-report-page" data-bind="if: activeSection() === 'phase'">
                
                <!-- Construction Phases -->
                <div class="her-report-section">
                    <h2 class="her-report-section-title"><i data-bind="click: function() {toggleBlockVisibility(blockVisible.phases.constructionPhases)}" class="fa fa-angle-double-right toggle"></i> {% trans "Construction Phases" %}</h2>
                    <a class="her-report-a" data-bind="if: cards.constructionPhases, click: function(){addNewTile(cards.constructionPhases)}"><i class="fa fa-mail-reply"></i> {% trans "Add Phase" %}</a>

                    <!-- Collapsible content -->
                    <div data-bind="visible: blockVisible.phases.constructionPhases" class="her-report-collapsible-container pad-lft">

                        <!-- ko ifnot: phase.constructionPhases().length -->
                        <div class="her-nodata-note">No construction phases for this resource</div>
                        <!-- /ko -->

                        <!-- ko if: phase.constructionPhases().length -->
                        <div class="her-report-subsection">
                            
                            <div class="firstchild-container">
                                
                                <div class="her-table pad-btm">
                                    <table class="table table-striped" cellspacing="0" width="100%">
                                        <thead>
                                            <tr class="her-table-header">
                                                <th>{% trans "Type" %}</th>
                                                <th>{% trans "Period" %}</th>
                                                <th>{% trans "Start Date" %}</th>
                                                <th>{% trans "End Date" %}</th>
                                                <th>{% trans "Method" %}</th>
                                                <th>{% trans "Phase" %}</th>
                                                <th class="none">{% trans "Date Qualifier" %}</th>
                                                <th class="none">{% trans "Display Date" %}</th>
                                                <th class="none">{% trans "Date Confidence" %}</th>
                                                <th class="none">{% trans "Phase Evidence" %}</th>
                                                <th class="none">{% trans "Interpretation Confidence" %}</th>
                                                <th class="none">{% trans "Construction Material" %}</th>
                                                <th class="none">{% trans "Covering Material" %}</th>
                                                <th class="none">{% trans "Construction Technique" %}</th>
                                                <th class="none">{% trans "Phase Description" %}</th>
                                                <th class="her-table-control all"></th>
                                            </tr>
                                        </thead><span data-bind="text: console.log(phase.constructionPhases())"></span>
                                        <tbody data-bind="dataTablesForEach: {data: phase.constructionPhases, dataTableOptions: conPhasesTableConfig}">
                                            <tr>
                                                <td data-bind="text: assetType"></td>
                                                <td data-bind="text: period"></td>
                                                <td data-bind="text: startDate"></td>
                                                <td data-bind="text: endDate"></td>
                                                <td data-bind="text: method"></td>
                                                <td data-bind="text: phase"></td>
                                                <td data-bind="text: dateQualifier"></td>
                                                <td data-bind="text: displayDate"></td>
                                                <td data-bind="text: dateConfidence"></td>
                                                <td data-bind="text: phaseEvidence"></td>
                                                <td data-bind="text: interpretationConfidence"></td>
                                                <td data-bind="text: constructionMaterial"></td>
                                                <td data-bind="text: coveringMaterial"></td>
                                                <td data-bind="text: constructionTechnique"></td>
                                                <td data-bind="text: phaseDescription"></td>
                                                <td class="her-table-control">
                                                    <div data-bind="if: $parent.cards.constructionPhases">
                                                        <a data-bind="click: function() {$parent.editTile(tileid, $parent.cards.constructionPhases)}">
                                                            <i class="fa fa-mail-reply"></i>
                                                        </a>
                                                        <a data-bind="click:  function() {$parent.deleteTile(tileid, $parent.cards.constructionPhases)}">
                                                            <i class="fa fa-trash"></i>
                                                        </a>
                                                    </div>
                                                </td>
                                            </tr>
                                        </tbody>
                                    </table>
                                </div>
                            </div>

                        </div>
                        <!-- /ko -->
                    </div>
                </div>

                <!-- Components -->
                <div class="her-report-section">
                    <h2 class="her-report-section-title"><i data-bind="click: function() {toggleBlockVisibility(blockVisible.phases.constructionComponents)}" class="fa fa-angle-double-right toggle"></i> {% trans "Construction Components" %}</h2>
                    <a class="her-report-a" data-bind="if: cards.constructionComponents, click: function(){addNewTile(cards.constructionComponents)}"><i class="fa fa-mail-reply"></i> {% trans "Add Component" %}</a>

                    <!-- Collapsible content -->
                    <div data-bind="visible: blockVisible.phases.constructionComponents" class="her-report-collapsible-container pad-lft">

                        <!-- ko ifnot: phase.constructionComponents().length -->
                        <div class="her-nodata-note">No components for this resource</div>
                        <!-- /ko -->
                        
                        <!-- ko if: phase.constructionComponents().length -->
                        <div class="her-report-subsection">
                            
                            <div class="firstchild-container">
                                <div class="her-table pad-btm">
                                    <table class="table table-striped" cellspacing="0" width="100%">
                                        <thead>
                                            <tr class="her-table-header">
                                                <th>{% trans "Construction Phase" %}</th>
                                                <th>{% trans "Component" %}</th>
                                                <th>{% trans "Technique" %}</th>
                                                <th>{% trans "Material" %}</th>
                                                <th class="medium">{% trans "Evidence" %}</th>
                                                <th class="her-table-control all"></th>
                                            </tr>
                                        </thead>
                                        <tbody data-bind="dataTablesForEach: {data: phase.constructionComponents, dataTableOptions: componentsTableConfig}">
                                            <tr>
                                                <td data-bind="text: constructionPhase"></td>
                                                <td data-bind="text: component"></td>
                                                <td data-bind="text: technique"></td>
                                                <td data-bind="text: material"></td>
                                                <td data-bind="text: evidence"></td>
                                                <td class="her-table-control">
                                                    <div data-bind="if: $parent.cards.constructionComponents">
                                                        <a data-bind="click: function() {$parent.editTile(tileid, $parent.cards.constructionComponents)}">
                                                            <i class="fa fa-mail-reply"></i>
                                                        </a>
                                                        <a data-bind="click:  function() {$parent.deleteTile(tileid, $parent.cards.constructionComponents)}">
                                                            <i class="fa fa-trash"></i>
                                                        </a>
                                                    </div>
                                                </td>
                                            </tr>
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                        </div>
                        <!-- /ko -->
                    </div>
                </div>

                <!-- Use Phases -->
                <div class="her-report-section">
                    <h2 class="her-report-section-title"><i data-bind="click: function() {toggleBlockVisibility(blockVisible.phases.usePhase)}" class="fa fa-angle-double-right toggle"></i> {% trans "Use Phases" %}</h2>
                    <a class="her-report-a" data-bind="if: cards.usePhase, click: function(){addNewTile(cards.usePhase)}"><i class="fa fa-mail-reply"></i> {% trans "Add Use" %}</a>

                    <!-- Collapsible content -->
                    <div data-bind="visible: blockVisible.phases.usePhase" class="her-report-collapsible-container pad-lft">

                        <!-- ko ifnot: phase.usePhase().length -->
                        <div class="her-nodata-note">No uses for this resource</div>
                        <!-- /ko -->

                        <!-- ko if: phase.usePhase().length -->
                        <div class="her-report-subsection">
                            
                            <div class="firstchild-container">
                                <div class="her-table pad-btm">
                                    <table class="table table-striped" cellspacing="0" width="100%">
                                        <thead>
                                            <tr class="her-table-header">
                                                <th>{% trans "Type" %}</th>
                                                <th>{% trans "Period" %}</th>
                                                <th>{% trans "Start Date" %}</th>
                                                <th>{% trans "End Date" %}</th>
                                                <th class="none">{% trans "Date Qualifier" %}</th>
                                                <th class="none">{% trans "Display Date" %}</th>
                                                <th class="none">{% trans "Use Evidence" %}</th>
                                                <th class="none">{% trans "Description Type" %}</th>
                                                <th class="none">{% trans "Description" %}</th>
                                                <th class="her-table-control all"></th>
                                            </tr>
                                        </thead>
                                        <tbody data-bind="dataTablesForEach: {data: phase.usePhase, dataTableOptions: usePhasesTableConfig}">
                                            <tr>
                                                <td data-bind="text: type"></td>
                                                <td data-bind="text: period"></td>
                                                <td data-bind="text: startDate"></td>
                                                <td data-bind="text: endDate"></td>
                                                <td data-bind="text: dateQualifier"></td>
                                                <td data-bind="text: displayDate"></td>
                                                <td data-bind="text: useEvidence"></td>
                                                <td data-bind="text: descriptionType"></td>
                                                <td data-bind="text: description"></td>
                                                <td class="her-table-control">
                                                    <div data-bind="if: $parent.cards.usePhase">
                                                        <a data-bind="click: function() {$parent.editTile(tileid, $parent.cards.usePhase)}">
                                                            <i class="fa fa-mail-reply"></i>
                                                        </a>
                                                        <a data-bind="click:  function() {$parent.deleteTile(tileid, $parent.cards.usePhase)}">
                                                            <i class="fa fa-trash"></i>
                                                        </a>
                                                    </div>
                                                </td>
                                            </tr>
                                        </tbody>
                                    </table>
                                </div>            
                            </div>
                        </div>
                        <!-- /ko -->
                    </div>
                </div>
            </div>
            <!-- End Construction Phases and Components -->

            <!-- Production -->
            <div class="her-report-page" data-bind="if: activeSection() === 'prod'">
                <div class="her-report-section">
                    <h2 class="her-report-section-title">{% trans "Production Event" %}</h2>
                    <a class="her-report-a disabled"><i class="fa fa-mail-reply"></i> {% trans "Add Production Event" %}</a>

                    <!-- Show this block if there's NO data -->
                    <div class="her-nodata-note" style="display: none;">No event created for this Physical Thing</div>

                    <!-- Show this div if there are event data -->
                    <!-- Production Event Block (one for each production event) -->
                    <div class="her-report-subsection">
                        <h3><i data-bind="click: function() {toggleBlockVisibility(blockVisible.phases.constructionPhases)}"" class="fa fa-angle-double-right toggle"></i> {% trans "Production Event: " %} <span>Statue Carving</span></h3>
                        <a class="her-report-a"><i class="fa fa-mail-reply"></i> {% trans "Edit this Event" %}</a>

                        <div class="her-nodata-note her-top-card" style="display: none;">No information for this event</div>

                        <div data-bind="visible: blockVisiblity" class="her-report-collapsible-container">
                            <div class="her-report-subsection-container">
                                <div class="her-report-subsection-item">
                                    <div class="her-block-attributes">
                                        <h4 class="her-block-key">Creator of Production Event: </h4>
                                        <div class="her-block-value">Paul Gauguin</div>
                                    </div>
                                    <div class="her-block-attributes">
                                        <h4 class="her-block-key">Production Event Techniques: </h4>
                                        <div class="her-block-value">Technique Number #1</div>
                                    </div>
                                    <div class="her-block-attributes">
                                        <h4 class="her-block-key">Location of Production Event: </h4>
                                        <div class="her-block-value">Paris, France</div>
                                    </div>
                                </div>

                                <div class="her-report-subsection-item">
                                    <div class="her-block-attributes">
                                        <h4 class="her-block-key">Objects used in Production Event: </h4>
                                        <div class="her-block-value">Chisel</div>
                                    </div>
                                    <div class="her-block-attributes">
                                        <h4 class="her-block-key">Influence on Production Event: </h4>
                                        <div class="her-block-value">Neo-classical school</div>
                                    </div>
                                </div>
                            </div>
                        
                            <!-- Event First Generation Cards -->
                            <div class="her-report-subsection-firstchild">
                                <h5>Production Event Names</h5>
                                <a class="her-report-a"><i class="fa fa-mail-reply"></i> {% trans "Add Event Name" %}</a>

                                <!-- Show this block if there's NO data -->
                                <div class="her-nodata-note" style="display: none;">No statements for this event</div>

                                <!-- Show this block if there's data -->
                                <div class="firstchild-container">
                                    <!-- Names Table -->
                                    <div class="her-table" style="max-width: 100%">
                                        <table data-bind="datatable: nameTableConfig" class="table table-striped" cellspacing="0" width="100%">
                                            <thead>
                                                <tr class="her-table-header">
                                                    <th>{% trans "Name" %}</th>
                                                    <th class="min-tabletl">{% trans "Type" %}</th>
                                                    <th class="min-medium">{% trans "Language" %}</th>
                                                    <th class="her-table-control all"></th>
                                                </tr>
                                            </thead>
                                            <tbody>
                                                <tr>
                                                    <td>Creation of a  great statue</td>
                                                    <td>Primary Name</td>
                                                    <td>English (language)</td>
                                                    <td class="her-table-control"><a><i class="fa fa-mail-reply"></i></a><a><i class="fa fa-trash"></i></a></td>
                                                </tr>
                                                <tr>
                                                    <td>The statue creation</td>
                                                    <td>Informal Title</td>
                                                    <td>English (language)</td>
                                                    <td class="her-table-control"><a><i class="fa fa-mail-reply"></i></a><a><i class="fa fa-trash"></i></a></td>
                                                </tr>
                                            </tbody>
                                        </table>
                                    </div>
                                </div>
                            </div>
                            
                            <!-- Event First Generation Cards -->
                            <div class="her-report-subsection-firstchild">
                                <h5>Production Event Statements</h5>
                                <a class="her-report-a"><i class="fa fa-mail-reply"></i> {% trans "Add Event Statement" %}</a>
                                
                                <!-- Show this block if there's NO data -->
                                <div class="her-nodata-note" style="display: none;">No statements for this event</div>

                                <!-- Show this block if there's data -->
                                <div class="firstchild-container">
                                    <!-- Statements Table -->
                                    <div class="her-table">
                                        <table data-bind="datatable: statementsTableConfig" class="table table-striped" cellspacing="0" width="100%">
                                            <thead>
                                                <tr class="her-table-header">
                                                    <th>{% trans "Type" %}</th>
                                                    <th>{% trans "Statement" %}</th>
                                                    <th class="none">{% trans "Language" %}</th>
                                                    <th class="none">{% trans "Name of Statement" %}</th>
                                                    <th class="her-table-control all"></th>
                                                </tr>
                                            </thead>
                                            <tbody>
                                                <tr>
                                                    <td>Acknowledgements</td>
                                                    <td class="line-clamp-1" style="vertical-align: unset; padding-top: 7px;">Eugène Henri Paul Gauguin was a French Post-Impressionist artist. Unappreciated until after his death, Gauguin is now recognized for his experimental use of color and Synthetist style that were distinct from Impressionism. Toward the end of his life, he spent ten years in French Polynesia.</td>
                                                    <td>English (language)</td>
                                                    <td>Acknowledgement statement from wikipedia</td>
                                                    <td class="her-table-control"><a><i class="fa fa-mail-reply"></i></a><a><i class="fa fa-trash"></i></a></td>
                                                </tr>
                                                <tr>
                                                    <td>Brief Text</td>
                                                    <td class="line-clamp-1" style="vertical-align: unset; padding-top: 7px;">Paul Gauguin was a great guy</td>
                                                    <td>English (language)</td>
                                                    <td>--</td>
                                                    <td class="her-table-control"><a><i class="fa fa-mail-reply"></i></a><a><i class="fa fa-trash"></i></a></td>
                                                </tr>
                                            </tbody>
                                        </table>
                                    </div>
                                </div>
                            </div>

                            <!-- Event First Generation Cards -->
                            <div class="her-report-subsection-firstchild">
                                <h5>Production Event Identifiers</h5>
                                <a class="her-report-a"><i class="fa fa-mail-reply"></i> {% trans "Add Event Identifier" %}</a>
                                <!-- Show this block if there's NO data -->
                                <div class="her-nodata-note">No identifiers for this event</div>

                                <!-- Show this block if there's data -->
                                <div class="firstchild-container" style="display: none;">

                                </div>
                            </div>

                            <!-- Event First Generation Cards -->
                            <div class="her-report-subsection-firstchild">
                                <h5>Production Event Timespan</h5>
                                <a class="her-report-a"><i class="fa fa-mail-reply"></i> {% trans "Edit Event Timespan" %}</a>
                                <!-- Show this block if there's NO data -->
                                <div class="her-nodata-note" style="display: none;">No timespan for this event</div>

                                <!-- Show this block if there's data -->
                                <div class="firstchild-container">
                                    <div class="her-report-subsection-item flex">
                                        <div class="her-block-attributes timespan">
                                            <h6 class="her-block-key">Beginning of the beginning: </h6>
                                            <div class="her-block-value">2021-02-18</div>
                                        </div>
                                        <div class="her-block-attributes timespan">
                                            <h6 class="her-block-key">End of the beginning: </h6>
                                            <div class="her-block-value">--</div>
                                        </div>
                                    </div>
                                    <div class="her-report-subsection-item flex" style="margin-top: -5px;">
                                        <div class="her-block-attributes timespan">
                                            <h6 class="her-block-key">Beginning of the end: </h6>
                                            <div class="her-block-value">--</div>
                                        </div>
                                        <div class="her-block-attributes timespan">
                                            <h6 class="her-block-key">End of the end: </h6>
                                            <div class="her-block-value">2021-05-22</div>
                                        </div>
                                    </div>
                                    <div class="her-report-subsection-item flex column-order pad-top pad-btm">
                                        <div class="her-block-attributes">
                                            <h6 class="her-block-key">Name of event timespan: </h6>
                                            <div class="her-block-value">Probable time period of statue creation</div>
                                        </div>
                                        <div class="her-block-attributes">
                                            <h6 class="her-block-key">Duration: </h6>
                                            <div class="her-block-value">2 days (units of time) (at least 1 and no more than 2 units)</div>
                                        </div>
                                        <div class="her-block-attributes">
                                            <h6 class="her-block-key">Name of event duration: </h6>
                                            <div class="her-block-value">Actual work days required to create statue</div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div> 
                </div>

                <!-- Production Event Parts -->
                <div class="her-report-section">
                    <h2 class="her-report-section-title">{% trans "Production Event Parts" %}</h2>
                    <a class="her-report-a"><i class="fa fa-mail-reply"></i> {% trans "Add Part" %}</a>

                    <!-- Prodcuction Event Part -->
                    <div class="her-report-subsection production-part">
                        <h3><i class="fa fa-angle-double-right"></i> {% trans "Production Event Part: " %} <span>Statue Torso</span></h3>
                        <a class="her-report-a"><i class="fa fa-mail-reply"></i> {% trans "Edit this Part" %}</a>

                        <!-- Show this block if there's NO data -->
                        <div class="her-nodata-note her-top-card" style="display: none;">No information for this event</div>

                        <!-- Show this if there is Event data (Top Card) -->
                        <div class="her-report-collapsible-container">
                            <div class="her-report-subsection-container">
                                <div class="her-report-subsection-item">
                                    <div class="her-block-attributes">
                                        <h4 class="her-block-key">Creator of Production Event: </h4>
                                        <div class="her-block-value">Paul Gauguin</div>
                                    </div>
                                    <div class="her-block-attributes">
                                        <h4 class="her-block-key">Production Event Techniques: </h4>
                                        <div class="her-block-value">Technique Number #13</div>
                                    </div>
                                    <div class="her-block-attributes">
                                        <h4 class="her-block-key">Location of Production Event: </h4>
                                        <div class="her-block-value">Paris, France</div>
                                    </div>
                                </div>

                                <div class="her-report-subsection-item">
                                    <div class="her-block-attributes">
                                        <h4 class="her-block-key">Objects used in Production Event: </h4>
                                        <div class="her-block-value">Paints, Brushes</div>
                                    </div>
                                    <div class="her-block-attributes">
                                        <h4 class="her-block-key">Influence on Production Event: </h4>
                                        <div class="her-block-value">Neo-classical school</div>
                                    </div>
                                </div>
                            </div>
                        
                            <!-- Event First Generation Cards -->
                            <div class="her-report-subsection-firstchild">
                                <h5>Production Event Part Names</h5>
                                <a class="her-report-a"><i class="fa fa-mail-reply"></i> {% trans "Add Part Name" %}</a>

                                <!-- Show this block if there's NO data -->
                                <div class="her-nodata-note">No names for this part</div>

                                <!-- Show this block if there's data -->
                                <div class="firstchild-container" style="display: none;">
                                    
                                    <!-- Names Table -->
                                    <div class="her-table" data-bind="" style="max-width: 1000px;">
                                        <table data-bind="datatable: nameTableConfig" class="table table-striped" cellspacing="0" width="100%">
                                            <thead>
                                                <tr class="her-table-header">
                                                    <th>{% trans "Name" %}</th>
                                                    <th class="min-tabletl">{% trans "Type" %}</th>
                                                    <th class="min-medium">{% trans "Currency" %}</th>
                                                    <th class="her-table-control all"></th>
                                                </tr>
                                            </thead>
                                            <tbody>
                                                <tr>
                                                    <td>Huxley House</td>
                                                    <td>Primary</td>
                                                    <td>Current</td>
                                                    <td class="her-table-control"><a><i class="fa fa-mail-reply"></i></a><a><i class="fa fa-trash"></i></a></td>
                                                </tr>
                                                <tr>
                                                    <td>Aldus Huxley Manor</td>
                                                    <td>Alternate</td>
                                                    <td>Current</td>
                                                    <td class="her-table-control"><a><i class="fa fa-mail-reply"></i></a><a><i class="fa fa-trash"></i></a></td>
                                                </tr>
                                            </tbody>
                                        </table>
                                    </div>
                                </div>
                            </div>
                            
                            <!-- Event First Generation Cards -->
                            <div class="her-report-subsection-firstchild">
                                <h5>Production Event Part Statements</h5>
                                <a class="her-report-a"><i class="fa fa-mail-reply"></i> {% trans "Add Part Statement" %}</a>
                                
                                <!-- Show this block if there's NO data -->
                                <div class="her-nodata-note">No statements for this part</div>

                                <!-- Show this block if there's data -->
                                <div class="firstchild-container" style="display: none;">

                                </div>
                            </div>

                            <!-- Event First Generation Cards -->
                            <div class="her-report-subsection-firstchild">
                                <h5>Production Event Part Identifiers</h5>
                                <a class="her-report-a"><i class="fa fa-mail-reply"></i> {% trans "Add Part Identifier" %}</a>
                                <!-- Show this block if there's NO data -->
                                <div class="her-nodata-note">No identifiers for this part</div>

                                <!-- Show this block if there's data -->
                                <div class="firstchild-container" style="display: none;">

                                </div>
                            </div>

                            <!-- Event First Generation Cards -->
                            <div class="her-report-subsection-firstchild">
                                <h5>Production Event Part Timespan</h5>
                                <a class="her-report-a"><i class="fa fa-mail-reply"></i> {% trans "Add Part Timespan" %}</a>
                                <!-- Show this block if there's NO data -->
                                <div class="her-nodata-note">No timespan for this event</div>

                                <!-- Show this block if there's data -->
                                <div class="firstchild-container" style="display: none;">
                                    <div class="her-report-subsection-item flex">
                                        <div class="her-block-attributes timespan">
                                            <h6 class="her-block-key">Beginning of the beginning: </h6>
                                            <div class="her-block-value">2021-02-18</div>
                                        </div>
                                        <div class="her-block-attributes timespan">
                                            <h6 class="her-block-key">End of the beginning: </h6>
                                            <div class="her-block-value">--</div>
                                        </div>
                                    </div>
                                    <div class="her-report-subsection-item flex" style="margin-top: -5px;">
                                        <div class="her-block-attributes timespan">
                                            <h6 class="her-block-key">Beginning of the end: </h6>
                                            <div class="her-block-value">--</div>
                                        </div>
                                        <div class="her-block-attributes timespan">
                                            <h6 class="her-block-key">End of the end: </h6>
                                            <div class="her-block-value">2021-05-22</div>
                                        </div>
                                    </div>
                                    <div class="her-report-subsection-item flex column-order pad-top pad-btm">
                                        <div class="her-block-attributes">
                                            <h6 class="her-block-key">Name of event timespan: </h6>
                                            <div class="her-block-value">Probable time period of statue creation</div>
                                        </div>
                                        <div class="her-block-attributes">
                                            <h6 class="her-block-key">Duration: </h6>
                                            <div class="her-block-value">2 days (units of time) (at least 1 and no more than 2 units)</div>
                                        </div>
                                        <div class="her-block-attributes">
                                            <h6 class="her-block-key">Name of event duration: </h6>
                                            <div class="her-block-value">Actual work days required to create statue</div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <!-- End Prodcution -->

            <!-- Bibliography Tab -->
            <div class="her-report-page" data-bind="if: activeSection() === 'biblio'">

                <!-- Biblio section -->
                <div class="her-report-section">
                    <h2 class="her-report-section-title"><i data-bind="click: function() {toggleBlockVisibility(blockVisible.bibliography)}" class="fa fa-angle-double-right toggle"></i> {% trans "Bibliographic Citation" %}</h2>
                    <a class="her-report-a" data-bind="{if: cards.bibliography, click: function(){addNewTile(cards.bibliography)}}"><i class="fa fa-mail-reply"></i> {% trans "Add Citation" %}</a>

                    <!-- Collapsible content -->
                    <div data-bind="visible: blockVisible.bibliography" class="her-report-collapsible-container pad-lft">
                        
                        <!-- ko ifnot: bibliography().length --> 
                        <div class="her-nodata-note">{% trans "No citations for this resource" %}</div>
                        <!-- /ko -->

                        <!-- ko if: bibliography().length --> 
                        <div class="her-report-subsection">
                            <div class="firstchild-container">
                                <div class="her-table" data-bind="">
                                    <table class="table table-striped" cellspacing="0" width="100%">
                                        <thead>
                                            <tr>
                                                <th>{% trans "Citation" %}</th>
                                                <th>{% trans "Source Number" %}</th>
                                                <th>{% trans "Pages" %}</th>
                                                <th>{% trans "Figs." %}</th>
                                                <th>{% trans "Plate(s)" %}</th>
                                                <th class="none">{% trans "Comment" %}</th>
                                                <th class="her-table-control all"></th>
                                            </tr>
                                        </thead>
                                        <tbody data-bind="dataTablesForEach: { data: bibliography, dataTableOptions: biblioTableConfig}">
                                            <tr>
                                                <td><a href="" data-bind="text: citation" class="her-table-link"></a></td>
                                                <td data-bind="text: sourceNumber"></td>
                                                <td data-bind="text: pages"></td>
                                                <td data-bind="text: figs"></td>
                                                <td data-bind="text: plates"></td>
                                                <td data-bind="text: comment"></td>
                                                <td class="her-table-control">
                                                    <div data-bind="if: $parent.cards.bibliography">
                                                        <a data-bind="click: function() {$parent.editTile(tileid, $parent.cards.bibliography)}">
                                                            <i class="fa fa-mail-reply"></i>
                                                        </a>
                                                        <a data-bind="click:  function() {$parent.deleteTile(tileid, $parent.cards.bibliography)}">
                                                            <i class="fa fa-trash"></i>
                                                        </a>
                                                    </div>
                                                </td>
                                            </tr>
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                        </div>
                        <!-- /ko -->
                    </div>
                </div>
            </div>
            <!-- End Bibliography -->

            <!-- Photos Tab -->
            <div class="her-report-page" data-bind="if: activeSection() === 'photos'">

                <div class="her-report-section">
                    <h2 class="her-report-section-title"><i data-bind="click: function() {toggleBlockVisibility(blockVisible.photos)}"  class="fa fa-angle-double-right toggle"></i> {% trans "Asset Photos" %}</h2>
                    <a data-bind="{if: cards.photos, click: function(){addNewTile(cards.photos)}}" class="her-report-a"><i class="fa fa-mail-reply"></i> {% trans "Add Photo" %}</a>

                    <!-- Collapsible content -->
                    <div data-bind="visible: blockVisible.photos" class="her-report-collapsible-container pad-lft">

                        <!-- ko ifnot: photos().length -->
                        <div class="her-nodata-note">No photos for this resource</div>
                        <!-- /ko -->

                        <!-- ko if: photos().length -->
                        <div class="her-report-subsection">
                            <div class="firstchild-container">
                                <div class="her-report-photo-container">
                                    <!-- ko foreach: {data: photos} -->
                                    <div class="her-report-photo-block">
                                        <div class="her-report-photo" data-bind="click: function(){$parent.editTile(tileid, $parent.cards.photos)}">
                                            <img data-bind="attr: {src: path}" />
                                        </div>
                                        <div class="her-report-photo-caption">
                                            <div class="her-report-subsection-item flex column-order pad-top pad-btm">
                                                <div class="her-block-attributes">
                                                    <h6 class="her-block-key">Caption: </h6>
                                                    <div class="her-block-value" data-bind="text: caption"></div>
                                                </div>
                                                <div class="her-block-attributes">
                                                    <h6 class="her-block-key">Copyright holder: </h6>
                                                    <div class="her-block-value" data-bind="text: copyrightHolder"></div>
                                                </div>
                                                <div class="her-block-attributes">
                                                    <h6 class="her-block-key">Copyright type: </h6>
                                                    <div class="her-block-value" data-bind="text: copyrightType"></div>
                                                </div>
                                                <div class="her-block-attributes">
                                                    <h6 class="her-block-key">Copyright note: </h6>
                                                    <div class="her-block-value" data-bind="text: copyrightNote"></div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <!-- /ko -->
                                </div>
                            </div>
                        </div>
                        <!-- /ko -->
                    </div>
                </div>
            </div>
            <!-- End Photos -->

            <!-- Scientific Dates Tab -->
            <div class="her-report-page" data-bind="if: activeSection() === 'sci'">

                <!-- Scientific date section -->
                <div class="her-report-section">
                    <h2 class="her-report-section-title"><i data-bind="click: function() {toggleBlockVisibility(blockVisible.scientificDate)}" class="fa fa-angle-double-right toggle"></i> {% trans "Scientific Date Determination" %}</h2>
                    <a data-bind="{if: cards.scientificDate, click: function(){addNewTile(cards.scientificDate)}}" class="her-report-a"><i class="fa fa-mail-reply"></i> {% trans "Add Date" %}</a>

                    <!-- Collapsible content -->
                    <div data-bind="visible: blockVisible.scientificDate" class="her-report-collapsible-container pad-lft">

                        <!-- ko ifnot: scientificDate().length -->
                        <div class="her-nodata-note">{% trans "No dates for this resource" %}</div>
                        <!-- /ko -->

                        <!-- ko if: scientificDate().length -->
                        <div class="her-report-subsection">
                            <div class="firstchild-container">
                                <div class="her-table" data-bind="">
                                    <table class="table table-striped" cellspacing="0" width="100%">
                                        <thead>
                                            <tr>
                                                <th>{% trans "Construction Phase" %}</th>
                                                <th>{% trans "Dating Method" %}</th>
                                                <th>{% trans "Earliest Date" %}</th>
                                                <th>{% trans "Latest Date" %}</th>
                                                <th>{% trans "Date Qualifier)" %}</th>
                                                <th class="none">{% trans "Standard Deviation" %}</th>
                                                <th class="none">{% trans "Standard Deviation Comment" %}</th>
                                                <th class="none">{% trans "Laboratory Note" %}</th>
                                                <th class="none">{% trans "Start Date of Date Determination" %}</th>
                                                <th class="none">{% trans "End Date of Date Determination" %}</th>
                                                <th class="none">{% trans "Date Determination Qualifier" %}</th>
                                                <th class="none">{% trans "General Note" %}</th>
                                                <th class="her-table-control all"></th>
                                            </tr>
                                        </thead>
                                        <tbody data-bind="dataTablesForEach: { data: scientificDate, dataTableOptions: scientificDatesTableConfig}">
                                            <tr>
                                                <td data-bind="text: constructionPhase"></td>
                                                <td data-bind="text: datingMethod"></td>
                                                <td data-bind="text: earliestDate"></td>
                                                <td data-bind="text: latestDate"></td>
                                                <td data-bind="text: dateQualifier"></td>
                                                <td data-bind="text: datingMethod"></td>
                                                <td data-bind="text: standardDeviation"></td>
                                                <td data-bind="text: standardDeviationComment"></td>
                                                <td data-bind="text: laboratoryNote"></td>
                                                <td data-bind="text: startDateOfDetermination"></td>
                                                <td data-bind="text: endDateOfDetermination"></td>
                                                <td data-bind="text: dateDeterminationQualifier"></td>
                                                <td class="her-table-control">
                                                    <div data-bind="if: $parent.cards.scientificDate">
                                                        <a data-bind="click: function() {$parent.editTile(tileid, $parent.cards.scientificDate)}">
                                                            <i class="fa fa-mail-reply"></i>
                                                        </a>
                                                        <a data-bind="click:  function() {$parent.deleteTile(tileid, $parent.cards.scientificDate)}">
                                                            <i class="fa fa-trash"></i>
                                                        </a>
                                                    </div>
                                                </td>
                                            </tr>
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                        </div>
                        <!-- /ko -->
                    </div>
                </div>
            </div>
            <!-- End Scientific Date -->

            <!-- Associate Resources Tab -->
            <div class="her-report-page" data-bind="if: activeSection() === 'related'">

                <!-- Associated Activities section -->
                <div class="her-report-section">
                    <h2 class="her-report-section-title"><i data-bind="click: function() {toggleBlockVisibility(blockVisible.associatedResources.activities)}" class="fa fa-angle-double-right toggle"></i> {% trans "Associated Activities" %}</h2>
                    <a data-bind="{if: cards.associatedActivities, click: function(){addNewTile(cards.associatedActivities)}}"  class="her-report-a"><i class="fa fa-mail-reply"></i> {% trans "Add Activity" %}</a>

                    <!-- Collapsible content -->
                    <div data-bind="visible: blockVisible.associatedResources.activities" class="her-report-collapsible-container pad-lft">

                        <!-- ko ifnot: associatedResources.activities().length -->
                        <div class="her-nodata-note">No activities for this resource</div>
                        <!-- /ko -->

                        <!-- ko if: associatedResources.activities().length -->
                        <div class="her-report-subsection">
                            <div class="firstchild-container">
                                <div class="her-table" data-bind="">
                                    <table class="table table-striped" cellspacing="0" width="100%">
                                        <thead>
                                            <tr class="her-table-header">
                                                <th>{% trans "Activity" %}</th>
                                                <th class="her-table-control all"></th>
                                            </tr>
                                        </thead>
                                        <tbody data-bind="dataTablesForEach: { data: associatedResources.activities, dataTableOptions: relatedResourceTwoColumnTableConfig}">
                                            <tr>
                                                <td>
                                                    <!-- ko if: resourceUrl -->
                                                    <a data-bind="text: activity, attr: {href: resourceUrl}" class="her-table-link"></a>
                                                    <!-- /ko -->
                                                    <!-- ko ifnot: resourceUrl -->
                                                    <span data-bind="text:activity"></span>
                                                    <!-- /ko -->
                                                
                                                </td>
                                                <td class="her-table-control">
                                                    <div data-bind="if: $parent.cards.associatedActivities">
                                                        <a data-bind="click: function() {$parent.editTile(tileid, $parent.cards.associatedActivities)}">
                                                            <i class="fa fa-mail-reply"></i>
                                                        </a>
                                                        <a data-bind="click:  function() {$parent.deleteTile(tileid, $parent.cards.associatedActivities)}">
                                                            <i class="fa fa-trash"></i>
                                                        </a>
                                                    </div>
                                                </td>
                                            </tr>
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                        </div>
                        <!-- /ko -->
                    </div>
                </div>

                <!-- Associated Actors -->
                <div class="her-report-section">
                    <h2 class="her-report-section-title"><i data-bind="click: function() {toggleBlockVisibility(blockVisible.associatedResources.actors)}" class="fa fa-angle-double-right toggle"></i> {% trans "Associated Actors" %}</h2>
                    <a data-bind="{if: cards.associatedActors, click: function(){addNewTile(cards.associatedActors)}}" class="her-report-a"><i class="fa fa-mail-reply"></i> {% trans "Add Actor" %}</a>

                    <!-- Collapsible content -->
                    <div data-bind="visible: blockVisible.associatedResources.actors" class="her-report-collapsible-container pad-lft">

                        <!-- ko ifnot: associatedResources.actors().length -->
                        <div class="her-nodata-note">No actors for this resource</div>
                        <!-- /ko -->

                        <!-- ko if: associatedResources.actors().length -->
                        <div class="her-report-subsection">
                            <div class="firstchild-container">
                                <div class="her-table" data-bind="">
                                    <table class="table table-striped" cellspacing="0" width="100%">
                                        <thead>
                                            <tr class="her-table-header">
                                                <th>{% trans "Actor" %}</th>
                                                <th>{% trans "Role" %}</th>
                                                <th>{% trans "Start of Role" %}</th>
                                                <th>{% trans "End of Role" %}</th>
                                                <th class="none">{% trans "Display Date" %}</th>
                                                <th class="none">{% trans "Date Qualifier" %}</th>
                                                <th class="none">{% trans "Role Type" %}</th>
                                                <th class="her-table-control all"></th>
                                            </tr>
                                        </thead>
                                        <tbody data-bind="dataTablesForEach: { data: associatedResources.actors, dataTableOptions: relatedActorsTableConfig}">
                                            <tr>
                                                <td data-bind="text: actor"><a href="" class="her-table-link"></a></td>
                                                <td data-bind="text: role"></td>
                                                <td data-bind="text: startOfRole"></td>
                                                <td data-bind="text: endOfRole"></td>
                                                <td data-bind="text: displayDate"></td>
                                                <td data-bind="text: dateQualifier"></td>
                                                <td data-bind="text: roleType"></td>
                                                <td class="her-table-control">
                                                    <div data-bind="if: $parent.cards.associatedActors">
                                                        <a data-bind="click: function() {$parent.editTile(tileid, $parent.cards.associatedActors)}">
                                                            <i class="fa fa-mail-reply"></i>
                                                        </a>
                                                        <a data-bind="click:  function() {$parent.deleteTile(tileid, $parent.cards.associatedActors)}">
                                                            <i class="fa fa-trash"></i>
                                                        </a>
                                                    </div>
                                                </td>
                                            </tr>
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                        </div>
                        <!-- /ko -->
                    </div>
                </div>

                <!-- Associated Consultations section -->
                <div class="her-report-section">
                    <h2 class="her-report-section-title"><i data-bind="click: function() {toggleBlockVisibility(blockVisible.associatedResources.consultations)}" class="fa fa-angle-double-right toggle"></i> {% trans "Associated Consultations" %}</h2>
                    <a data-bind="{if: cards.associatedConsultations, click: function(){addNewTile(cards.associatedConsultations)}}" class="her-report-a"><i class="fa fa-mail-reply"></i> {% trans "Add Consultation" %}</a>

                    <!-- Collapsible content -->
                    <div data-bind="visible: blockVisible.associatedResources.consultations" class="her-report-collapsible-container pad-lft">

                        <!-- ko ifnot: associatedResources.consultations().length -->
                        <div class="her-nodata-note">No consultations for this resource</div>
                        <!-- /ko -->

                        <!-- ko if: associatedResources.consultations().length -->
                        <div class="her-report-subsection">
                            <div class="firstchild-container">
                                <div class="her-table" data-bind="">
                                    <table class="table table-striped" cellspacing="0" width="100%">
                                        <thead>
                                            <tr class="her-table-header">
                                                <th>{% trans "Consultation" %}</th>
                                                <th class="her-table-control all"></th>
                                            </tr>
                                        </thead>
                                        <tbody data-bind="dataTablesForEach: { data: associatedResources.consultations, dataTableOptions: relatedResourceTwoColumnTableConfig}">
                                            <tr>
                                                <td>
                                                    <!-- ko if: resourceUrl -->
                                                    <a data-bind="text: consultation, attr: {href: resourceUrl}" class="her-table-link"></a>
                                                    <!-- /ko -->
                                                    <!-- ko ifnot: resourceUrl -->
                                                    <span data-bind="text: consultation"></span>
                                                    <!-- /ko -->
                                                </td>
                                                <td class="her-table-control">
                                                    <div data-bind="if: $parent.cards.associatedConsultations">
                                                        <a data-bind="click: function() {$parent.editTile(tileid, $parent.cards.associatedConsultations)}">
                                                            <i class="fa fa-mail-reply"></i>
                                                        </a>
                                                        <a data-bind="click:  function() {$parent.deleteTile(tileid, $parent.cards.associatedConsultations)}">
                                                            <i class="fa fa-trash"></i>
                                                        </a>
                                                    </div>
                                                </td>
                                            </tr>
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                        </div>
                        <!-- /ko -->
                    </div>
                </div>

                <!-- Associated Digital Files section -->
                <div class="her-report-section">
                    <h2 class="her-report-section-title"><i data-bind="click: function() {toggleBlockVisibility(blockVisible.associatedResources.files)}" class="fa fa-angle-double-right toggle"></i> {% trans "Associated Files" %}</h2>
                    <a data-bind="{if: cards.associatedFiles, click: function(){addNewTile(cards.associatedFiles)}}"  class="her-report-a"><i class="fa fa-mail-reply"></i> {% trans "Add File" %}</a>

                    <!-- Collapsible content -->
                    <div data-bind="visible: blockVisible.associatedResources.files" class="her-report-collapsible-container pad-lft">

                        <!-- ko ifnot: associatedResources.files().length -->
                        <div class="her-nodata-note">No files for this resource</div>
                        <!-- /ko -->

                        <!-- ko if: associatedResources.files().length -->
                        <div class="her-report-subsection">
                            <div class="firstchild-container">
                                <div class="her-table" data-bind="">
                                    <table class="table table-striped" cellspacing="0" width="100%">
                                        <thead>
                                            <tr class="her-table-header">
                                                <th>{% trans "File Name" %}</th>
                                                <th class="her-table-control all"></th>
                                            </tr>
                                        </thead>
                                        <tbody data-bind="dataTablesForEach: { data: associatedResources.files, dataTableOptions: relatedResourceTwoColumnTableConfig}">
                                            <tr>
                                                <td>
                                                    <!-- ko if: resourceUrl -->
                                                    <a data-bind="text: file, attr: {href: resourceUrl}" class="her-table-link"></a>
                                                    <!-- /ko -->
                                                    <!-- ko ifnot: resourceUrl -->
                                                    <span data-bind="text:file"></span>
                                                    <!-- /ko -->
                                                </td>
                                                <td class="her-table-control">
                                                    <div data-bind="if: $parent.cards.associatedFiles">
                                                        <a data-bind="click: function() {$parent.editTile(tileid, $parent.cards.associatedFiles)}">
                                                            <i class="fa fa-mail-reply"></i>
                                                        </a>
                                                        <a data-bind="click:  function() {$parent.deleteTile(tileid, $parent.cards.associatedFiles)}">
                                                            <i class="fa fa-trash"></i>
                                                        </a>
                                                    </div>
                                                </td>
                                            </tr>
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                        </div>
                        <!-- /ko -->
                    </div>
                </div>

                <!-- Associated Heritage Assets section -->
                <div class="her-report-section">
                    <h2 class="her-report-section-title"><i data-bind="click: function() {toggleBlockVisibility(blockVisible.associatedResources.artifacts)}" class="fa fa-angle-double-right toggle"></i> {% trans "Associated Heritage/Areas/Artifacts" %}</h2>
                    <a data-bind="{if: cards.associatedArtifacts, click: function(){addNewTile(cards.associatedArtifacts)}}"  class="her-report-a"><i class="fa fa-mail-reply"></i> {% trans "Add resource" %}</a>

                    <!-- Collapsible content -->
                    <div data-bind="visible: blockVisible.associatedResources.artifacts" class="her-report-collapsible-container pad-lft">

                        <!-- ko ifnot: associatedResources.artifacts().length -->
                        <div class="her-nodata-note">No hertiage/area/artifacts for this resource</div>
                        <!-- /ko -->

                        <!-- ko if: associatedResources.artifacts().length -->
                        <div class="her-report-subsection">
                            <div class="firstchild-container">
                                <div class="her-table" data-bind="">
                                    <table class="table table-striped" cellspacing="0" width="100%">
                                        <thead>
                                            <tr class="her-table-header">
                                                <th>{% trans "Resource Name" %}</th>
                                                <th>{% trans "Association" %}</th>
                                                <th class="her-table-control all"></th>
                                            </tr>
                                        </thead>
                                        <tbody data-bind="dataTablesForEach: { data: associatedResources.artifacts, dataTableOptions: relatedResourceThreeColumnTableConfig}">
                                            <tr>
                                                <td>
                                                    <!-- ko if: resourceUrl -->
                                                    <a data-bind="text: resourceName, attr: {href: resourceUrl}" class="her-table-link"></a>
                                                    <!-- /ko -->
                                                    <!-- ko ifnot: resourceUrl -->
                                                    <span data-bind="text: resourceName"></span>
                                                    <!-- /ko -->
                                                </td>
                                                <td data-bind="text: association"></td>
                                                <td class="her-table-control">
                                                    <div data-bind="if: $parent.cards.associatedArtifacts">
                                                        <a data-bind="click: function() {$parent.editTile(tileid, $parent.cards.associatedArtifacts)}">
                                                            <i class="fa fa-mail-reply"></i>
                                                        </a>
                                                        <a data-bind="click: function() {$parent.deleteTile(tileid, $parent.cards.associatedArtifacts)}">
                                                            <i class="fa fa-trash"></i>
                                                        </a>
                                                    </div>
                                                </td>
                                            </tr>
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                        </div>
                        <!-- /ko -->
                    </div>
                </div>
            </div>
            <!-- End Associated Resources -->

            <!-- JSON Tab -->
            <div class="her-report-page" data-bind="if: activeSection() === 'json'">

                <!-- JSON section -->
                <div class="her-report-section">
                    <h2 class="her-report-section-title"><i data-bind="click: function() {toggleBlockVisibility(blockVisible.json)}" class="fa fa-angle-double-right toggle"></i> {% trans "Resource JSON" %}</h2>
                    

                    <!-- Collapsible content -->
                    <div data-bind="visible: blockVisible.json" class="her-report-collapsible-container pad-lft">
                        <span data-bind="text: console.log(resource);"></span>
                        <!-- Show this block if there is resource tile content -->
                        <div class="her-report-subsection">
                            <div class="her-codemirror">
                                <div class="geojson-editor" data-bind="codemirror: {
                                    value: JSON.stringify(resource(), null, 2),
                                    mode: { name: 'javascript', json: true },
                                    lineNumbers: true
                                }"></div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <!-- End Names -->

        </div>
    </div>
    {% endblock body %}


    {% block related_resources %}
    {% endblock related_resources %}

    {% block footer %}
    <div class="her-tabbed-report-footer">
        <div>Footer of the report here ...</div>
    </div>
    {% endblock footer %}

{% endblock report %}


{% block summary %}
<!-- Summary Report -->
<div class="her-summary-report">
    <div class="her-summary-block">
        <div class="her-title-block">
            <h1 data-bind="text: displayname">Instance Name Goes Here</h1>
            <a class="her-report-a" data-bind="attr: {href: resourceUrl}"><i class="fa fa-mail-reply"></i> {% trans "Edit Resource" %}</a>
        </div>
        <div class="her-block-attributes">
            <div class="her-block-key">Resource Type:</div>
            <div class="her-block-value">Heritage Asset</div>
        </div>
        <div class="her-block-attributes">
            <div class="her-block-key">Address:</div>
            <div data-bind="text: fullAddress" class="her-block-value"></div>
        </div>
        <div class="her-block-attributes">
            <div class="her-block-key">Protection:</div>
            <div data-bind="text: protection" class="her-block-value"></div>
        </div>
    </div>

    <!-- Photos Tab -->
    <div class="her-report-page">

        <div class="her-report-section" style="padding-top: 10px;">
            <h2 class="her-report-section-title"><i data-bind="click: function() {toggleBlockVisibility(blockVisible.photos)}" class="fa fa-angle-double-right toggle"></i> {% trans "Asset Photos" %}</h2>
            <a class="her-report-a" data-bind="{if: cards.photos, click: function(){addNewTile(cards.photos)}}"><i class="fa fa-mail-reply"></i> {% trans "Add Photo" %}</a>

            <!-- Collapsible content -->
            <div data-bind="visible: blockVisible.photos" class="her-report-collapsible-container pad-lft">

                <!-- ko ifnot: photos().length -->
                <div class="her-nodata-note">No photos for this resource</div>
                <!-- /ko -->

                <!-- ko if: photos().length -->
                <div class="her-report-subsection">
                    <div class="firstchild-container">
                        <div class="her-report-photo-container">
                            <!-- ko foreach: {data: photos} -->
                            <div class="her-report-photo-block">
                                <div class="her-report-photo" data-bind="click: function(){$parent.editTile(tileid, $parent.cards.photos)}">
                                    <img data-bind="attr: {src: path}" />
                                </div>
                                <div class="her-report-photo-caption">
                                    <div class="her-report-subsection-item flex column-order pad-top pad-btm">
                                        <div class="her-block-attributes">
                                            <h6 class="her-block-key">Caption: </h6>
                                            <div class="her-block-value" data-bind="text: caption"></div>
                                        </div>
                                        <div class="her-block-attributes">
                                            <h6 class="her-block-key">Copyright holder: </h6>
                                            <div class="her-block-value" data-bind="text: copyrightHolder"></div>
                                        </div>
                                        <div class="her-block-attributes">
                                            <h6 class="her-block-key">Copyright type: </h6>
                                            <div class="her-block-value" data-bind="text: copyrightType"></div>
                                        </div>
                                        <div class="her-block-attributes">
                                            <h6 class="her-block-key">Copyright note: </h6>
                                            <div class="her-block-value" data-bind="text: copyrightNote"></div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <!-- /ko -->
                        </div>
                    </div>
                </div>
                <!-- /ko -->
            </div>
        </div>
    </div>
    <!-- End Photos -->         


    <!-- Descriptions Tab -->
    <div class="her-report-page">

        <!-- Description section -->
        <div class="her-report-section">
            <h2 class="her-report-section-title"><i data-bind="click: function() {toggleBlockVisibility(blockVisible.descriptions)}" class="fa fa-angle-double-right toggle"></i> {% trans "Asset Descriptions" %}</h2>
            <a class="her-report-a" data-bind="if: cards.assetDescriptions, click: function(){addNewTile(cards.assetDescriptions)}"><i class="fa fa-mail-reply"></i> {% trans "Add Description" %}</a>

            <!-- Collapsible content -->
            <div data-bind="visible: blockVisible.descriptions" class="her-report-collapsible-container pad-lft">
                <!-- ko ifnot: descriptions().length -->
                <div class="her-nodata-note">{% trans "No descriptions for this resource" %}</div>
                <!-- /ko -->

                <!-- ko if: descriptions().length -->
                <div class="her-report-subsection">
                    <div class="firstchild-container">
                        <div class="her-table">
                            <table class="table table-striped" cellspacing="0" width="100%">
                                <thead>
                                    <tr class="her-table-header">
                                        <th>{% trans "Type" %}</th>
                                        <th>{% trans "Description" %}</th>
                                        <th class="her-table-control all"></th>
                                    </tr>
                                </thead>
                                <tbody data-bind="dataTablesForEach: {data: descriptions, dataTableOptions: descriptionTableConfig}">
                                    <tr>
                                        <td data-bind="text: type"></td>
                                        <td data-bind="text: description" class="her-table-descrip-col"></td>
                                        <td class="her-table-control">
                                            <div data-bind="if: $parent.cards.assetDescriptions">
                                                <a data-bind="click: function(){$parent.editTile(tileid, cards.assetDescriptions)}">
                                                    <i class="fa fa-mail-reply"></i>
                                                </a>
                                                <a data-bind="click: function(){$parent.deleteTile(tileid, $parent.cards.assetDescriptions)}">
                                                    <i class="fa fa-trash"></i>
                                                </a>
                                            </div>
                                        </td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
                <!-- /ko -->
            </div>
        </div>
    </div>
    <!-- End Descriptions -->


    <!-- Construction Phases and Components -->
    <div class="her-report-page">
        
        <!-- Construction Phases -->
        <div class="her-report-section">
            <h2 class="her-report-section-title"><i data-bind="click: function() {toggleBlockVisibility(blockVisible.phases.constructionPhases)}" class="fa fa-angle-double-right toggle"></i> {% trans "Construction Phases" %}</h2>
            <a class="her-report-a" data-bind="if: cards.constructionPhases, click: function(){addNewTile(cards.constructionPhases)}"><i class="fa fa-mail-reply"></i> {% trans "Add Phase" %}</a>

            <!-- Collapsible content -->
            <div data-bind="visible: blockVisible.phases.constructionPhases" class="her-report-collapsible-container pad-lft">

                <!-- ko ifnot: phase.constructionPhases().length -->
                <div class="her-nodata-note" style="display: none;">No construction phases for this resource</div>
                <!-- /ko -->

                <!-- ko if: phase.constructionPhases().length -->
                <div class="her-report-subsection">
                    <div class="firstchild-container">
                        <div class="her-table pad-btm">
                            <table class="table table-striped" cellspacing="0" width="100%">
                                <thead>
                                    <tr class="her-table-header">
                                        <th>{% trans "Type" %}</th>
                                        <th>{% trans "Period" %}</th>
                                        <th>{% trans "Start Date" %}</th>
                                        <th>{% trans "End Date" %}</th>
                                        <th>{% trans "Method" %}</th>
                                        <th>{% trans "Phase" %}</th>
                                        <th class="none">{% trans "Date Qualifier" %}</th>
                                        <th class="none">{% trans "Display Date" %}</th>
                                        <th class="none">{% trans "Date Confidence" %}</th>
                                        <th class="none">{% trans "Phase Evidence" %}</th>
                                        <th class="none">{% trans "Interpretation Confidence" %}</th>
                                        <th class="none">{% trans "Construction Material" %}</th>
                                        <th class="none">{% trans "Covering Material" %}</th>
                                        <th class="none">{% trans "Construction Technique" %}</th>
                                        <th class="none">{% trans "Phase Description" %}</th>
                                        <th class="her-table-control all"></th>
                                    </tr>
                                </thead><span data-bind="text: console.log(phase.constructionPhases())"></span>
                                <tbody data-bind="dataTablesForEach: {data: phase.constructionPhases, dataTableOptions: conPhasesTableConfig}">
                                    <tr>
                                        <td data-bind="text: assetType"></td>
                                        <td data-bind="text: period"></td>
                                        <td data-bind="text: startDate"></td>
                                        <td data-bind="text: endDate"></td>
                                        <td data-bind="text: method"></td>
                                        <td data-bind="text: phase"></td>
                                        <td data-bind="text: dateQualifier"></td>
                                        <td data-bind="text: displayDate"></td>
                                        <td data-bind="text: dateConfidence"></td>
                                        <td data-bind="text: phaseEvidence"></td>
                                        <td data-bind="text: interpretationConfidence"></td>
                                        <td data-bind="text: constructionMaterial"></td>
                                        <td data-bind="text: coveringMaterial"></td>
                                        <td data-bind="text: constructionTechnique"></td>
                                        <td data-bind="text: phaseDescription"></td>
                                        <td class="her-table-control">
                                            <div data-bind="if: $parent.cards.constructionPhases">
                                                <a data-bind="click: function() {$parent.editTile(tileid, $parent.cards.constructionPhases)}">
                                                    <i class="fa fa-mail-reply"></i>
                                                </a>
                                                <a data-bind="click:  function() {$parent.deleteTile(tileid, $parent.cards.constructionPhases)}">
                                                    <i class="fa fa-trash"></i>
                                                </a>
                                            </div>
                                        </td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>

                </div>
                <!--/ko-->
            </div>
        </div>

        <!-- Components -->
        <div class="her-report-section">
            <h2 class="her-report-section-title"><i data-bind="click: function() {toggleBlockVisibility(blockVisible.phases.constructionComponents)}" class="fa fa-angle-double-right toggle"></i> {% trans "Construction Components" %}</h2>
            <a class="her-report-a" data-bind="if: cards.constructionComponents, click: function(){addNewTile(cards.constructionComponents)}"><i class="fa fa-mail-reply"></i> {% trans "Add Component" %}</a>

            <!-- Collapsible content -->
            <div data-bind="visible: blockVisible.phases.constructionComponents" class="her-report-collapsible-container pad-lft">

                <!-- ko ifnot: phase.constructionComponents().length -->
                <div class="her-nodata-note">No components for this resource</div>
                <!-- /ko -->

                <!-- ko if: phase.constructionComponents().length -->
                <div class="her-report-subsection">
                    
                    <div class="firstchild-container">
                        <div class="her-table pad-btm">
                            <table class="table table-striped" cellspacing="0" width="100%">
                                <thead>
                                    <tr class="her-table-header">
                                        <th>{% trans "Construction Phase" %}</th>
                                        <th>{% trans "Component" %}</th>
                                        <th>{% trans "Technique" %}</th>
                                        <th>{% trans "Material" %}</th>
                                        <th class="medium">{% trans "Evidence" %}</th>
                                        <th class="her-table-control all"></th>
                                    </tr>
                                </thead>
                                <tbody data-bind="dataTablesForEach: {data: phase.constructionComponents, dataTableOptions: componentsTableConfig}">
                                    <tr>
                                        <td data-bind="text: constructionPhase"></td>
                                        <td data-bind="text: component"></td>
                                        <td data-bind="text: technique"></td>
                                        <td data-bind="text: material"></td>
                                        <td data-bind="text: evidence"></td>
                                        <td class="her-table-control">
                                            <div data-bind="if: $parent.cards.constructionComponents">
                                                <a data-bind="click: function() {$parent.editTile(tileid, $parent.cards.constructionComponents)}">
                                                    <i class="fa fa-mail-reply"></i>
                                                </a>
                                                <a data-bind="click:  function() {$parent.deleteTile(tileid, $parent.cards.constructionComponents)}">
                                                    <i class="fa fa-trash"></i>
                                                </a>
                                            </div>
                                        </td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
                <!-- /ko -->
            </div>
        </div>

        <!-- Use Phases -->
        <div class="her-report-section">
            <h2 class="her-report-section-title"><i data-bind="click: function() {toggleBlockVisibility(blockVisible.phases.usePhase)}" class="fa fa-angle-double-right toggle"></i> {% trans "Use Phases" %}</h2>
            <a class="her-report-a" data-bind="if: cards.usePhase, click: function(){addNewTile(cards.usePhase)}"><i class="fa fa-mail-reply"></i> {% trans "Add Use" %}</a>

            <!-- Collapsible content -->
            <div data-bind="visible: blockVisible.phases.usePhase" class="her-report-collapsible-container pad-lft">

                <!-- ko ifnot: phase.usePhase().length -->
                <div class="her-nodata-note">No uses for this resource</div>
                <!-- /ko -->

                <!-- ko if: phase.usePhase().length -->
                <div class="her-report-subsection">
                    
                    <div class="firstchild-container">
                        <div class="her-table pad-btm">
                            <table class="table table-striped" cellspacing="0" width="100%">
                                <thead>
                                    <tr class="her-table-header">
                                        <th>{% trans "Type" %}</th>
                                        <th>{% trans "Period" %}</th>
                                        <th>{% trans "Start Date" %}</th>
                                        <th>{% trans "End Date" %}</th>
                                        <th class="none">{% trans "Date Qualifier" %}</th>
                                        <th class="none">{% trans "Display Date" %}</th>
                                        <th class="none">{% trans "Use Evidence" %}</th>
                                        <th class="none">{% trans "Description Type" %}</th>
                                        <th class="none">{% trans "Description" %}</th>
                                        <th class="her-table-control all"></th>
                                    </tr>
                                </thead>
                                <tbody data-bind="dataTablesForEach: {data: phase.usePhase, dataTableOptions: usePhasesTableConfig}">
                                    <tr>
                                        <td data-bind="text: type"></td>
                                        <td data-bind="text: period"></td>
                                        <td data-bind="text: startDate"></td>
                                        <td data-bind="text: endDate"></td>
                                        <td data-bind="text: dateQualifier"></td>
                                        <td data-bind="text: displayDate"></td>
                                        <td data-bind="text: useEvidence"></td>
                                        <td data-bind="text: descriptionType"></td>
                                        <td data-bind="text: description"></td>
                                        <td class="her-table-control">
                                            <div data-bind="if: $parent.cards.usePhase">
                                                <a data-bind="click: function() {$parent.editTile(tileid, $parent.cards.usePhase)}">
                                                    <i class="fa fa-mail-reply"></i>
                                                </a>
                                                <a data-bind="click:  function() {$parent.deleteTile(tileid, $parent.cards.usePhase)}">
                                                    <i class="fa fa-trash"></i>
                                                </a>
                                            </div>
                                        </td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>            
                    </div>
                </div>
                <!-- /ko -->
            </div>
        </div>
    </div>
    <!-- End Construction Phases and Components -->
    
</div>
{% endblock summary %}


{% block header_form %}

{% endblock header_form %}